#-------------------------------------------------------
#Ensure to run this before docker-compose up
#-------------------------------------------------------
sudo ./init-letsencrypt.sh 

#The following output indicate a success
#
### Downloading recommended TLS parameters ...

### Creating dummy certificate for ocooee.com ...
Creating network "nginxcertbot_default" with the default driver
...............+++++
writing new private key to '/etc/letsencrypt/live/ocooee.com/privkey.pem'
-----

### Starting nginx ...
Creating nginxcertbot_nginx_1 ... done

### Deleting dummy certificate for ocooee.com ...

### Requesting Let's Encrypt certificate for ocooee.com ...
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Plugins selected: Authenticator webroot, Installer None

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Would you be willing to share your email address with the Electronic Frontier
Foundation, a founding partner of the Let's Encrypt project and the non-profit
organization that develops Certbot? We'd like to send you email about our work
encrypting the web, EFF news, campaigns, and ways to support digital freedom.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o: N
Obtaining a new certificate
Performing the following challenges:
http-01 challenge for ocooee.com
http-01 challenge for www.ocooee.com
Using the webroot path /var/www/certbot for all unmatched domains.
Waiting for verification...
Cleaning up challenges

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/ocooee.com/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/ocooee.com/privkey.pem
   Your cert will expire on 2020-07-30. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot
   again. To non-interactively renew *all* of your certificates, run
   "certbot renew"
 - Your account credentials have been saved in your Certbot
   configuration directory at /etc/letsencrypt. You should make a
   secure backup of this folder now. This configuration directory will
   also contain certificates and private keys obtained by Certbot so
   making regular backups of this folder is ideal.

### Reloading nginx ...
2020/05/01 09:17:27 [notice] 11#11: signal process started


#-------------------------------------------------------
#Run the nginx proxy and certbot
#-------------------------------------------------------
#
docker-compose up -d
